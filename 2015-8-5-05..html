<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<link href="css/bootstrap.css" type="text/css" rel="stylesheet">
		<link href="css/font-awesome.min.css" type="text/css" rel="stylesheet">
		<script src="js/jquery-1.7.2.min.js" type="text/javascript"></script>
		<script type="text/javascript" src="js/bootstrap.min.js"></script>
		<style type="text/css">
			body{
				padding:0; 
				margin:0 auto; 
				font-family: "Helvetica Neue", Helvetica, Microsoft Yahei, Hiragino Sans GB, WenQuanYi Micro Hei, sans-serif;
				width: 1000px;
			}
			.col-xs-1, .col-sm-1, .col-md-1, .col-lg-1, .col-xs-2, .col-sm-2, .col-md-2, .col-lg-2, .col-xs-3, .col-sm-3, .col-md-3, .col-lg-3, .col-xs-4, .col-sm-4, .col-md-4, .col-lg-4, .col-xs-5, .col-sm-5, .col-md-5, .col-lg-5, .col-xs-6, .col-sm-6, .col-md-6, .col-lg-6, .col-xs-7, .col-sm-7, .col-md-7, .col-lg-7, .col-xs-8, .col-sm-8, .col-md-8, .col-lg-8, .col-xs-9, .col-sm-9, .col-md-9, .col-lg-9, .col-xs-10, .col-sm-10, .col-md-10, .col-lg-10, .col-xs-11, .col-sm-11, .col-md-11, .col-lg-11, .col-xs-12, .col-sm-12, .col-md-12, .col-lg-12 {
			  padding-left:5px;
			}
			* {margin:0; padding:0;}
			ul{
				margin:0;
				padding:0;
			}
			img{
				border:none;
			}
			.clear{
				clear:both;
			}
			 ul li{
			 	list-style: none;
			 	margin:0;
			 	padding: 0;
			 }
			.wrap{
				width:1000px;
				margin:20px auto;
			}
			.select{
				background: #f0f0f0;
			}
			tr th{
				background: #f0f0f0;
			}
			tr td{
				font-size: 12px;
			}
		</style>
	<body>
		<div class="wrap">
			 <table class="table table-bordered">
			 	<tr>
			 		<th width="50px" class="text-center"><input type="checkbox" id="select_all"></th>
			 		<th>姓名</th>
			 		<th>年龄</th>
			 		<th>联系电话</th>
			 		<th>联系地址</th>
			 		<th width="150px">操作</th>
			 	</tr>
			 	<tr>
			 		<td class="text-center"><input type="checkbox" name="items"></td>
			 		<td>1</td>
			 		<td>1</td>
			 		<td>1</td>
			 		<td>1</td>
			 		<td>
			 			<div class="btn-group">
				 			<button class="btn btn-xs btn-success edit" data-toggle="modal" data-target="#modal-device">修改 <i class="fa fa-pencil"></i></button>
				 			<button class="btn btn-xs btn-danger del">删除 <i class="fa fa-trash"></i></button>
				 		</div>
			 		</td>
			 	</tr>
			 	<tr>
			 		<td class="text-center"><input type="checkbox" name="items"></td>
			 		<td>2</td>
			 		<td>2</td>
			 		<td>2</td>
			 		<td>2</td>
			 		<td>
			 			<div class="btn-group">
				 			<button class="btn btn-xs btn-success edit" data-toggle="modal" data-target="#modal-device">修改 <i class="fa fa-pencil"></i></button>
				 			<button class="btn btn-xs btn-danger del">删除 <i class="fa fa-trash"></i></button>
				 		</div>
			 		</td>
			 	</tr>
			 	<tr>
			 		<td class="text-center"><input type="checkbox" name="items"></td>
			 		<td>3</td>
			 		<td>3</td>
			 		<td>3</td>
			 		<td>3</td>
			 		<td>
			 			<div class="btn-group">
				 			<button class="btn btn-xs btn-success edit" data-toggle="modal" data-target="#modal-device">修改 <i class="fa fa-pencil"></i></button>
				 			<button class="btn btn-xs btn-danger del">删除 <i class="fa fa-trash"></i></button>
				 		</div>
			 		</td>
			 	</tr>
			 	<tr>
			 		<td class="text-center"><input type="checkbox" name="items"></td>
			 		<td>3</td>
			 		<td>3</td>
			 		<td>3</td>
			 		<td>3</td>
			 		<td>
			 			<div class="btn-group">
				 			<button class="btn btn-xs btn-success edit" data-toggle="modal" data-target="#modal-device">修改 <i class="fa fa-pencil"></i></button>
				 			<button class="btn btn-xs btn-danger del">删除 <i class="fa fa-trash"></i></button>
				 		</div>
			 		</td>
			 	</tr>
			 	<tr>
			 		<td class="text-center"><input type="checkbox" name="items"></td>
			 		<td>4</td>
			 		<td>4</td>
			 		<td>4</td>
			 		<td>4</td>
			 		<td>
			 			<div class="btn-group">
				 			<button class="btn btn-xs btn-success edit" data-toggle="modal" data-target="#modal-device">修改 <i class="fa fa-pencil"></i></button>
				 			<button class="btn btn-xs btn-danger del">删除 <i class="fa fa-trash"></i></button>
				 		</div>
			 		</td>
			 	</tr>
			 	<tr>
			 		<td class="text-center"><input type="checkbox" name="items"></td>
			 		<td>5</td>
			 		<td>5</td>
			 		<td>5</td>
			 		<td>5</td>
			 		<td>
				 		<div class="btn-group">
				 			<button class="btn btn-xs btn-success edit" data-toggle="modal" data-target="#modal-device">修改 <i class="fa fa-pencil"></i></button>
				 			<button class="btn btn-xs btn-danger del">删除 <i class="fa fa-trash"></i></button>
				 		</div>
			 		</td>
			 	</tr>
			 </table>
			 <button class="btn btn-info btn-md del_all">批量删除 <i class="fa fa-trash"></i></button>

			<!-- 弹出框 -->
			 <div class="modal fade" id="modal-device" tabindex="-1" role="dialog">
				<form class="form-horizontal" method="post" action="">
					<div class="modal-dialog">
						<div class="modal-content">
							<div class="modal-header">
								<button type="button" class="close" data-dismiss="modal" aria-label="Close">
									<span aria-hidden="true">&times;</span>
								</button>
								<h4 class="modal-title" id="myModalLabel">修改</h4>
								<input type="hidden" name='_id' value=""/>			
							</div>
							<div class="modal-body">
								<form class="form-horizontal">
									<div class="form-group">
										<label class="col-sm-3 control-label">姓名：</label>
										<div class="col-sm-8">
											<input type="text" name="name" class="form-control"></div>
									</div>
									<div class="form-group">
										<label class="col-sm-3 control-label">年龄：</label>
										<div class="col-sm-8">
											<input type="text" name="age" class="form-control"></div>
									</div>
									<div class="form-group">
										<label class="col-sm-3 control-label">联系电话：</label>
										<div class="col-sm-8">
											<input type="text" name="tel" class="form-control"></div>
									</div>
									<div class="form-group">
										<label class="col-sm-3 control-label">联系地址：</label>
										<div class="col-sm-8">
											<textarea class="form-control" name="adress">
												
											</textarea>
										</div>
									</div>
								</form>
							</div>
							<div class="modal-footer">
								<button type="submit" class="btn btn-primary">完成</button>
								<button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
							</div>
						</div>
					</div>
				</form>
		</div> 
		<script type="text/javascript">
			$(function(){
				//方法一
				/*$("table tr").toggle(
					function(){
						$(this).addClass("select");
						$(this).find("[type='checkbox']").attr('checked',true);
					},function(){
						$(this).removeClass("select");
						$(this).find("[type='checkbox']").attr('checked',false);
					}
				) */

				//方法二
				$('.table tr:gt(0)').click(function(){
					if($(this).hasClass('select')){
						$(this).removeClass('select').find(':checkbox').attr('checked',false);
					}else{
						$(this).addClass('select').find(':checkbox').attr('checked',true);
					}
				})

				//删除
				$(".del").click(function(){
					$(this).parents('tr').remove();
				})

				//批量删除
				$(".del_all").click(function(){
					var items = $('[name="items"]:checked');
					$.each(items,function(i,val){
						_tr = $(val).parents('tr');
						_tr.remove();
					})
				})

				//复选框其中一项没有选中全选取消  方法一
				/*$('[name="items"]:checkbox').click(function(){
					var $temp = $('[name="items"]:checkbox');
					$("#select_all").prop("checked",$temp.length==$temp.filter(':checked').length);
				})*/
				
				//复选框其中一项没有选中全选取消  方法二
				$('[name="items"]:checkbox').click(function(){
					var flag = true;
					$('[name="items"]:checkbox').each(function(){
						if(!this.checked){
							flag = false;
						}
					})					
					$('#select_all').attr('checked',flag);
				})	

				//全选/反选
				$("#select_all").click(function(){
					//方法一
					$('[name="items"]:checkbox').prop('checked',$('#select_all').prop('checked'));
					if(this.checked){
						$(".table tr").addClass('select');
					}else{
						$(".table tr").removeClass('select');
					}
					//方法二
					/*if(this.checked){
						$('[name="items"]').attr('checked',true);
					}else{
						$('[name="items"]').attr('checked',false);
					}*/
				})
			})
		</script>
	</body>
</html>
 