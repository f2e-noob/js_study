<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<link href="css/bootstrap.css" type="text/css" rel="stylesheet">
		<link href="css/style.css" type="text/css" rel="stylesheet">
		<style type="text/css">
		 	p{
		 		line-height: 30px;
		 	}
		</style>
	</head>
	<body>
		<h2>JavaScript 测试和捕捉！</h2>
		<button class="btn btn-primary" onclick="message()">点击按钮</button>
		<script type="text/javascript">
			function message(){
				try {
					addlert('wellcome to BeiJing')					
				}catch(err){
					txt = "本例是一个页面" + "\n\n";
					txt = txt + "错误的描述：" + err.message + "\n\n";
					txt = txt + "点击错误继续" + "\n\n";
					alert(txt);
				}
			}
		</script>
		<h2>Throw 语句</h2>
		<p>throw 语句允许我们创建自定义错误。</p>
		<p>请输入大于5小于10的数字</p>
		<div class="form-inline">
			<input type="text" id="inputTextvalue" class="form-control" style="width:250px;" value="">
			<buttom class="btn btn-danger"  onclick="btninputTextvalue()">点击按钮</buttom>
		</div>
		<p id="mess"></p>
		<script type="text/javascript">
			function btninputTextvalue(){
				try {
					var x = document.getElementById('inputTextvalue').value;
					if (x=='') throw '值为空！';
					if (isNaN(x)) throw '值为数字！';	
					if (x>10) throw '值太大！';
					if (x<5) throw '值太小！';
				}
				
				catch(err){
					var y = document.getElementById('mess');
					y.innerHTML = "错误:" + err + ".";	
				}
			}
		</script>
		<h2>表单验证</h2>
		<script type="text/javascript">
			function validate_required(filed,alerttxt){
				with(filed){
					if( value==''|| value==num){
						alert(alerttxt);
						return false;
					}else{
						return true;
					}
				}
			}
			function validate_form(thisform){
				with(thisform){
					if(validate_required(email,"Email must be filled out!") == false){
						email.focus();return false
					}
				}
			}
		</script>
		<form action="" onsubmit="return validate_form(this)" method="post">
			Email:
			<input type="text" name="email" size="30" class="form-control" style="width:250px; display:inline-block">		
			<input type="submit" class="btn btn-warning">
		</form>
		<h2>E-mail 验证</h2>
		<script type="text/javascript">
			function validate_email(field,alerttxt){
				with (field)
					{
					apos=value.indexOf("@") //.indexOf() 方法可返回某个指定的字符串值在字符串中首次出现的位置。
					dotpos=value.lastIndexOf(".") //lastIndexOf()方法返回从右向左出现某个字符或字符串的首个字符索引值（与indexOf相反）
					if (apos<1||dotpos-apos<2) 
					  {alert(alerttxt);return false}
					else {return true}
					}
				}

				function validate_form(thisform)
				{
					with (thisform)
				{
					if (validate_email(email,"Not a valid e-mail address!")==false)
					  {email.focus();return false}
				}
			}
		</script>
		<form action="" onsubmit="return validate_form(this);" method="post">
			Email: <input type="text" name="email" class="form-control" style="width:250px; display:inline-block">
			<input type="submit" class="btn btn-success">
		</form> 
		<h2>通过标签名查找 HTML 元素</h2>
		<div id="main">
			<div>段落描述文字一</div>
			<p>段落描述文字二</p>
			<p>段落描述文字三</p>
			<script type="text/javascript"> 
				var x = document.getElementById("main");  //getElementsByTagName() 方法可返回带有指定标签名的对象的集合。
				var y = x.getElementsByTagName("p");
				document.write('this is text:' + y[0].innerHTML)
			</script>
		</div>
		<h2>改变 HTML 输出流</h2>
		<script type="text/javascript">
			var d = new Date().getTime()

			document.write(d)
		</script>
		<h2>改变 HTML 属性</h2>
		<p>两幅图原本一样通过javascript改变了其中一幅图片效果展示如下:</p>
		<img src="images/eg_bulboff.gif" alt="" id="imgSrc">
		<img src="images/eg_bulboff.gif" alt="">
		<script type="text/javascript">
			var x = document.getElementById('imgSrc');
			x.src = "images/eg_bulbon.gif"
		</script>
		<h2>改变 HTML 样式</h2>
		<p id="pStyle">段落的测试文字</p>
		<script type="text/javascript">
			document.getElementById('pStyle').style.color = "red";
			document.getElementById('pStyle').style.fontFamily = "微软雅黑";
			document.getElementById('pStyle').style.fontSize = "16px";
		</script>
		<p id="pStyle2">段落文字的样式改变</p>
		<button class="btn btn-info" onclick="document.getElementById('pStyle2').style.color='red'">点击按钮</button>
		<h2>JavaScript 有能力对 HTML 事件做出反应</h2>
		<div class="cirle" onmouseover="this.innerHTML='鼠标移动上去'" onmouseout="this.innerHTML='谢谢!'"></div>
		<div class="squar" onclick="clickMeEvent(this)">点击这里</div>
		<script type="text/javascript">
			function clickMeEvent(obj)
			{
			if (obj.innerHTML=="再见")
				{
					obj.style.display="none";
				}
			else if (obj.innerHTML=="谢谢")
				{
					obj.innerHTML="再见";		
				}
			else if (obj.innerHTML=="点击这里<br>再次点击这里<br>再点一次")
				{
					obj.innerHTML="谢谢";		
				}
			else if (obj.innerHTML=="点击这里<br>再次点击这里")
				{
					obj.innerHTML=obj.innerHTML+"<br>再点一次";		
				}
			else
				{
					obj.innerHTML=obj.innerHTML+"<br>再次点击这里";
				}
			}
		</script>
	</body>
</html>
 